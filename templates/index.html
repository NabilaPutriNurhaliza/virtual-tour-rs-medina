<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Virtual Tour RS Medina</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&family=Open+Sans:wght@300;400;500;600;700;800&family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link
      href="assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link
      href="assets/vendor/glightbox/css/glightbox.min.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet" />
  </head>
  <body class="index-page">
    <header id="header" class="header sticky-top">
      <div class="topbar d-flex align-items-center">
        <div
          class="container d-flex justify-content-center justify-content-md-between"
        >
          <div class="contact-info d-flex align-items-center">
            <i class="bi bi-envelope d-flex align-items-center"
              ><a href="mailto:rsmedinagarut@gmail.com"
                >rsmedinagarut@gmail.com</a
              ></i
            >
            <i class="bi bi-phone d-flex align-items-center ms-4"
              ><span>+62 858 6025 5592</span></i
            >
          </div>
          <div class="social-links d-none d-md-flex align-items-center">
            <a
              href="https://www.youtube.com/@rsmedinaofficial3544"
              class="youtube"
              target="_blank"
              ><i class="bi bi-youtube"></i
            ></a>
            <a
              href="https://www.instagram.com/medinahospitals?igsh=ZHh6anZnb255YXZo"
              class="instagram"
              target="_blank"
              ><i class="bi bi-instagram"></i
            ></a>
          </div>
        </div>
      </div>
      <!-- End Top Bar -->

      <div class="branding d-flex align-items-cente">
        <div
          class="container position-relative d-flex align-items-center justify-content-between"
        >
          <a href="index.html" class="logo d-flex align-items-center">
            <img
              src="assets/img/logo-rumah-sakit-medina.png"
              alt="logo-rumah-sakit-medina"
            />
          </a>

          <nav id="navmenu" class="navmenu">
            <ul>
              <li><a href="#hero" class="active">Home</a></li>
              <li><a href="#about">Profil</a></li>
              <li><a href="#services">Tutorial</a></li>
              <li>
                <a href="#contact" id="chat-icon" style="cursor: pointer"
                  >Medibot</a
                >
              </li>
            </ul>
            <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
          </nav>
        </div>
      </div>
    </header>

    <main class="main">
      <!-- Hero Section -->
      <section id="hero" class="hero section light-background">
        <div class="container">
          <div class="row gy-4">
            <div
              class="col-lg-16 order-2 order-lg-1 d-flex flex-column justify-content-center"
              data-aos="zoom-out"
            >
              <h1>Virtual Tour<span> RS Medina</span></h1>
              <p>
                Selamat datang! Dengan Virtual Tour RS Medina Anda bisa
                berkeliling dan melihat langsung berbagai fasilitas serta
                layanan yang kami sediakan tanpa harus pergi langsung ke lokasi.
                <br />Jika Anda ingin mengetahui lokasi ruangan tertentu, jangan
                ragu untuk bertanya kepada chatbot kami. <b>Medibot</b> siap
                membantu memberikan informasi ruangan yang Anda cari! <br />Klik
                tombol dibawah untuk memulai tour!
              </p>
              <div class="d-flex">
                <a href="tour/L1 1 Gerbang Masuk" class="btn-get-started"
                  ><b>Mulai Tour</b></a
                >
                <a
                  href="https://www.youtube.com/watch?v=Y7f98aduVJ8"
                  class="glightbox btn-watch-video d-flex align-items-center"
                  ><i class="bi bi-play-circle"></i><span>Watch Video</span></a
                >
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- /Hero Section -->

      <!-- Chatbox yang disembunyikan di awal -->
      <div class="chatbox-container" id="chatbox" style="display: none">
        <div class="chatbox-header">
          <img
            src="assets/img/chat.png"
            alt="Logo Medibot"
            class="chatbox-logo"
          />
          Medibot
          <span id="close-chatbox">&times;</span>
        </div>
        <div class="chatbox-body" id="chatbox-body">
          <div class="bubble bot">Halo! Ruangan apa yang sedang Anda cari?</div>
        </div>
        <div class="chatbox-footer">
          <input type="text" id="user-input" placeholder="Ketik pesan..." />
          <button id="send-button">Kirim</button>
        </div>
      </div>
      <!-- JavaScript untuk chatbot -->
      <script>
        // Toggle chatbox visibility ketika ikon chat di-klik
        document
          .getElementById("chat-icon")
          .addEventListener("click", function () {
            var chatbox = document.getElementById("chatbox");
            chatbox.style.display =
              chatbox.style.display === "none" || chatbox.style.display === ""
                ? "flex"
                : "none";
          });

        // Function untuk mengirim pesan user
        function sendMessage() {
          var userMessage = document
            .getElementById("user-input")
            .value.trim()
            .toLowerCase();
          if (userMessage) {
            var chatBody = document.getElementById("chatbox-body");

            // User message bubble
            var userBubble = document.createElement("div");
            userBubble.textContent = userMessage;
            userBubble.className = "bubble user";
            chatBody.appendChild(userBubble);
            chatBody.scrollTop = chatBody.scrollHeight;

            // Clear input
            document.getElementById("user-input").value = "";

            // Simulate bot response
            fetch('{{ url_for("static", filename="data/ruangan.json") }}')
              .then((response) => response.json())
              .then((data) => {
                var defaultBotResponse =
                  "Maaf, saya hanya bisa menjawab lokasi suatu ruangan saja.";
                var botResponse = "";
                var locationsMap = {};

                // Normalize user message
                var userMessageWords = userMessage
                  .replace(/[^a-z0-9\s]/g, "")
                  .toLowerCase()
                  .split(/\s+/);

                // Iterate through buildings
                for (const [building, floors] of Object.entries(data)) {
                  // Iterate through floors within each building
                  for (const [floor, rooms] of Object.entries(floors)) {
                    // Iterate through room names
                    rooms.forEach((room) => {
                      var normalizedRoom = room.toLowerCase();
                      var roomWords = normalizedRoom.split(/\s+/);

                      if (
                        userMessageWords.some((word) =>
                          roomWords.includes(word)
                        )
                      ) {
                        if (!locationsMap[room]) {
                          locationsMap[room] = [];
                        }
                        locationsMap[room].push(
                          `di ${building.replace("_", " ")}, lantai ${
                            floor.replace("_", " ").split(" ")[1]
                          }`
                        );
                      }
                    });
                  }
                }

                // Construct bot response from locationsMap
                var foundLocations = [];
                var poliKeywords = ["poli"];
                var ruangKeywords = ["ruang"];

                for (const [room, locations] of Object.entries(locationsMap)) {
                  if (locations.length > 0) {
                    if (
                      poliKeywords.some((keyword) =>
                        userMessageWords.includes(keyword)
                      )
                    ) {
                      foundLocations.push(
                        `Poli ${room} terletak ${locations.join(", dan ")}`
                      );
                    } else {
                      foundLocations.push(
                        `Ruang ${room} terletak ${locations.join(", dan ")}`
                      );
                    }
                  }
                }

                if (foundLocations.length > 0) {
                  botResponse = foundLocations.join(". ") + ".";
                } else {
                  botResponse = defaultBotResponse;
                }

                // Display bot response
                var botBubble = document.createElement("div");
                botBubble.textContent = botResponse;
                botBubble.className = "bubble bot";
                chatBody.appendChild(botBubble);
                chatBody.scrollTop = chatBody.scrollHeight;
              })
              .catch((error) => {
                console.error("Error fetching data:", error);
                var errorBubble = document.createElement("div");
                errorBubble.textContent =
                  "Maaf, terjadi kesalahan saat mengambil data.";
                errorBubble.className = "bubble bot";
                chatBody.appendChild(errorBubble);
                chatBody.scrollTop = chatBody.scrollHeight;
              });
          }
        }

        // Mengirim pesan saat tombol "Kirim" di-klik
        document
          .getElementById("send-button")
          .addEventListener("click", sendMessage);

        // Mengirim pesan saat tombol Enter ditekan
        document
          .getElementById("user-input")
          .addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              sendMessage();
            }
          });

        // Menutup chatbox saat ikon close di-klik
        document
          .getElementById("close-chatbox")
          .addEventListener("click", function () {
            document.getElementById("chatbox").style.display = "none";
          });
      </script>

      <!-- Featured Services Section -->
      <section id="featured-services" class="featured-services section">
        <div class="container">
          <div class="row gy-4">
            <div
              class="col-xl-3 col-md-6 d-flex"
              data-aos="fade-up"
              data-aos-delay="100"
            >
              <div class="service-item position-relative">
                <div class="icon">
                  <img
                    src="assets/img/Gedung Utama.jpg"
                    alt="Gedung Utama"
                    class="icon-image"
                  />
                </div>
                <h4>
                  <a href="tour/L1 1 Gerbang Masuk" class="stretched-link"
                    >Gedung Utama</a
                  >
                </h4>
                <p>
                  Di gedung ini terdapat berbagai ruangan poli yang melayani
                  pasien dengan berbagai kebutuhan medis. Sebagian besar
                  aktivitas rumah sakit, termasuk administrasi dan pelayanan
                  umum, dilakukan di Gedung Utama ini.
                </p>
              </div>
            </div>
            <!-- End Service Item -->

            <div
              class="col-xl-3 col-md-6 d-flex"
              data-aos="fade-up"
              data-aos-delay="200"
            >
              <div class="service-item position-relative">
                <div class="icon">
                  <img
                    src="assets/img/Gedung Poli Kemo.jpg"
                    alt="Gedung Poli Kemo"
                    class="icon-image"
                  />
                </div>
                <h4>
                  <a href="tour/L1 3 Pertigaan Masuk" class="stretched-link"
                    >Gedung Poli Kemo</a
                  >
                </h4>
                <p>
                  Disediakan untuk pelayanan kemoterapi bagi pasien yang
                  membutuhkan perawatan onkologi. Selain itu, gedung ini juga
                  dilengkapi dengan aula RS Medina untuk kegiatan seperti
                  edukasi, seminar, dan pertemuan lainnya.
                </p>
              </div>
            </div>
            <!-- End Service Item -->

            <div
              class="col-xl-3 col-md-6 d-flex"
              data-aos="fade-up"
              data-aos-delay="300"
            >
              <div class="service-item position-relative">
                <div class="icon">
                  <img
                    src="assets/img/Gedung IGD.jpg"
                    alt="Gedung IGD"
                    class="icon-image"
                  />
                </div>
                <h4>
                  <a href="tour/IGD Tengah" class="stretched-link"
                    >Gedung IGD</a
                  >
                </h4>
                <p>
                  Tempat utama untuk penanganan pasien gawat darurat di RS
                  Medina. Di gedung ini juga terdapat ruang isolasi khusus yang
                  digunakan untuk menangani pasien dengan kondisi medis yang
                  membutuhkan penanganan terpisah.
                </p>
              </div>
            </div>
            <!-- End Service Item -->

            <div
              class="col-xl-3 col-md-6 d-flex"
              data-aos="fade-up"
              data-aos-delay="400"
            >
              <div class="service-item position-relative">
                <div class="icon">
                  <img
                    src="assets/img/Gedung Tulip.jpg"
                    alt="Gedung Tulip"
                    class="icon-image"
                  />
                </div>
                <h4>
                  <a href="tour/L1 6 Halaman Belakang" class="stretched-link"
                    >Gedung Tulip</a
                  >
                </h4>
                <p>
                  Gedung ini difokuskan pada pelayanan persalinan dan perawatan
                  bagi pasien thalasemia. Gedung ini didesain untuk memberikan
                  kenyamanan dan keamanan bagi ibu dan anak, serta menyediakan
                  fasilitas perawatan khusus bagi penderita thalasemia.
                </p>
              </div>
            </div>
            <!-- End Service Item -->
          </div>
        </div>
      </section>
      <!-- /Featured Services Section -->

      <!-- About Section -->
      <section id="about" class="about section light-background">
        <!-- Section Title -->
        <div class="container section-title" data-aos="fade-up">
          <h2>Profil</h2>
          <p>
            <span>Profil</span>
            <span class="description-title">RS Medina</span>
          </p>
        </div>
        <!-- End Section Title -->

        <div class="container">
          <div class="row gy-3">
            <div class="col-lg-6" data-aos="fade-up" data-aos-delay="100">
              <img
                src="assets/img/Poster RS Medina.png"
                alt=""
                class="img-fluid"
              />
            </div>

            <div
              class="col-lg-6 d-flex flex-column justify-content-center"
              data-aos="fade-up"
              data-aos-delay="200"
            >
              <div class="about-content ps-0 ps-lg-3">
                <h3>Sejarah RS Medina</h3>
                <p>
                  Cikal bakal berdirinya Rumah Sakit MEDINA diawali saat
                  berdirinya PT. medika Medina Gunawan pada tahun 2013, tepatnya
                  pada tanggal 23 Mei 2013 sebagaimana tercatat dalam Akta
                  Notaris Heri Suherman, SH, Notaris di Garut Nomor: 31 tanggal
                  23 Mei 2013. Saat ini pelayanan Rumah Sakit di isi oleh Sumber
                  Daya Manusia yang Profesional serta ditunjang berbagai
                  fasilitas & peralatan medis yang modern.
                </p>
                <ul>
                  <li>
                    <div>
                      <h4>Visi</h4>
                      <p>
                        "Menjadi Rumah Sakit Dengan Pelayanan Prima Berbasis
                        Digital, Pilihan Utama Masyarakat Kab. Garut"
                      </p>
                    </div>
                  </li>
                  <li>
                    <div>
                      <h4>Misi</h4>
                      <p>
                        1. Memberikan pelayanan kesehatan yang cepat, tepat dan
                        akurat.<br />
                        2. Mengutamakan kepuasan dan keselamatan pasien. <br />
                        3. Memberikan pelayanan kesehatan yang terjangkau oleh
                        seluruh lapisan masyarakat. <br />
                        4. Meningkatkan pengetahuan & keterampilan karyawan,
                        sehingga mampu melaksanakan pelayanan yang profesional.
                        <br />
                        5. Meningkatkan kualitas alat kedokteran yang dapat
                        memberikan nilai lebih bagi pelayanan kesehatan.
                      </p>
                    </div>
                  </li>
                </ul>
                <p>
                  Salah satu Pendiri PT. Medika Medina Gunawan adalah H. Rudy
                  Gunawan SH, MH, MP yang saat pendirian beliau menjabat sebagai
                  Komisaris Utama PT. Medika Medina Gunawan.
                  <br />
                  Untuk informasi lebih lanjut mengenai RS Medina, Anda bisa
                  mengunjungi tautan
                  <a href="https://rsmedina.id" target="_blank">berikut.</a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- /About Section -->

      <!-- Services Section -->
      <section id="services" class="services section">
        <!-- Section Title -->
        <div
          class="container section-title d-flex flex-column align-items-center text-center"
          data-aos="fade-up"
        >
          <h2>Tutorial</h2>
          <p>
            <span>Tutorial Website</span>
            <span class="description-title">Virtual Tour</span>
          </p>
        </div>
        <!-- End Section Title -->

        <div class="container d-flex justify-content-center">
          <div class="row">
            <div
              class="col-lg-4 col-md-6 mx-auto"
              data-aos="fade-up"
              data-aos-delay="500"
            >
              <!-- Tombol dengan ikon play circle -->
              <div class="service-item position-relative">
                <a
                  href="https://www.youtube.com/watch?v=Y7f98aduVJ8"
                  class="glightbox icon-link d-flex align-items-center"
                  title="Tonton Video"
                >
                  <div class="icon">
                    <i class="bi bi-play-circle"></i>
                  </div>
                </a>

                <h3>Tampilan Smartphone</h3>
                <p>
                  Klik tombol play untuk menonton video tutorial menggunakan
                  website virtual tour kami di smartphone.
                </p>
              </div>
            </div>
            <!-- End Service Item -->

            <div
              class="col-lg-4 col-md-6 mx-auto"
              data-aos="fade-up"
              data-aos-delay="600"
            >
              <!-- Tombol dengan ikon play circle -->
              <div class="service-item position-relative">
                <a
                  href="https://www.youtube.com/watch?v=Y7f98aduVJ8"
                  class="glightbox icon-link d-flex align-items-center"
                  title="Tonton Video"
                >
                  <div class="icon">
                    <i class="bi bi-play-circle"></i>
                  </div>
                </a>
                <h3>Tampilan Desktop</h3>
                <p>
                  Klik tombol play untuk menonton video tutorial menggunakan
                  website virtual tour kami di laptop/desktop.
                </p>
              </div>
            </div>
            <!-- End Service Item -->
          </div>
        </div>
      </section>
      <!-- /Services Section -->
    </main>

    <footer id="footer" class="footer">
      <div class="footer-newsletter">
        <div class="container footer-top">
          <div class="row gy-4">
            <div class="col-lg-4 col-md-6 footer-about">
              <a
                href="https://rsmedina.id"
                target="_blank"
                class="d-flex align-items-center"
              >
                <span class="sitename">RS Medina</span>
              </a>
              <div class="footer-contact pt-3">
                <p>Jl. Raya Wanaraja No. 500 Wanaraja</p>
                <p>Kabupaten Garut, Jawa Barat Indonesia 44183</p>
                <p class="mt-3">
                  <strong>Customer Care:</strong> <span>+62 858 6025 5592</span>
                </p>
                <p>
                  <strong>Email:</strong> <span>rsmedinagarut@gmail.com</span>
                </p>
                <br />
              </div>
            </div>

            <div class="col-lg-4 col-md-12" style="margin-top: 30px">
              <h4>Media Sosial</h4>
              <p>
                Ikuti media sosial kami untuk mengetahui info terbaru terkait RS
                Medina
              </p>
              <div class="social-links d-flex">
                <a
                  href="https://www.youtube.com/@rsmedinaofficial3544"
                  target="_blank"
                  ><i class="bi bi-youtube"></i
                ></a>
                <a
                  href="https://www.instagram.com/medinahospitals?igsh=ZHh6anZnb255YXZo"
                  target="_blank"
                  ><i class="bi bi-instagram"></i
                ></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Maps Button -->
    <a
      href="https://www.google.com/maps/place/RUMAH+SAKIT+MEDINA,+Jl.+Raya+Wanaraja+No.500,+Cinunuk,+Kec.+Wanaraja,+Kabupaten+Garut,+Jawa+Barat+44183/@-7.1811883,107.9772442,19z/data=!4m6!3m5!1s0x2e68b3954aff5711:0xba7c7cf091c6158d!8m2!3d-7.1809903!4d107.9771767!16s%2Fg%2F11g6bm211j?hl=id"
      target="_blank"
      id="scroll-top"
      class="scroll-top d-flex align-items-center justify-content-center"
      style="font-size: 22px"
      title="Google Maps"
      >📍</a
    >

    <!-- Preloader -->
    <div id="preloader">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>

    <!-- Main JS File -->
    <script src="assets/js/main.js"></script>
  </body>
</html>
